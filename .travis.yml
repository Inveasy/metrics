language: java
addons:
  sonarcloud:
    organization: inveasy

script:
- mvn clean install sonar:sonar -Dsonar.login=${SONAR_LOGIN} -B -V
cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"

deploy:
- provider: releases
  api_key:
    secure: RtWJV67ude8HHaWnS0QUT7yWisDTwpQMz4ryV2eL/qTeM1AkNe0Lbmm000mbXVukioWff6dP90Gs7dOwfROgLnpHLKnMI5XO9kAVk1uMJxd7/q1GT24WU97Sl6UxJz/mFJpzY14amStbhdvPTXGB9cdGmACZQI5kgBhV8BXu4WXfL3w14qZUEsJ+zI5mUwBT9AKpmMQrTbSxN/wHVG0DZbVxx7OZpSgTd09qHvhla3jKqpD4eJ/q5NYiSBkgXrHbgmbbdZEWaNAeDMN/1lRvU3CnXDwAKWNgH810h+ep0uDJxM3uh1/yiBzwsFG5E6IrR26SOffhKEun7UtHJZrvACinY9EQzHd/99Bsv+06CtLI3qSu7599ZqhjGEGiEi9gBabfSBb+PBDBUymNfeet9tdrsPOu05PaEczvEmrNOC7sKVBijn0ZtvL7HXckga6+btFC2TmuMpFqT4ejETIQh0sAe1dlWoU05+1INwh6apObfxcaINsbAsWk+R38rDnvFGb9Fm6TsfcwuAey3AqiCI+YN7xnvErpRSbFagArZJi/2Ycmu0UEEHC1PJ085xzBU9asGpcN5ri08wzqM4YMy1fOumZfMfXzoL/+bM3BQu3kdzoo6pj9uOP+qMlwvqi4JcwHH+S/4g/Hw2l/DaaIiJPDBOUINLU/fE2Udrr0a1I=
  file_glob: true
  file: target/*.jar
  skip_cleanup: true
  on:
    all_branches: true
    condition: $TRAVIS_BRANCH =~ ^[0-9]+\.[0-9]+\.[0-9]+$
    tags: true
- provider: bintray
  file: bintray-descriptor.json
  key:
    secure: Dn7AxFU4k9/T6Hx7msUf8kA/JGymq5AZB1d4VTl4cr5kVNoehGQ5exX6r5w+s49Yb+6eSqErl/29JGHaXSFzYCYX8i/YJJW1GSmGCylmH3dyKS2/Fj/i3PynKRVBjmCosPerllUbihjTi4iwu5v79HWIuhuzxVWNNI+GohzMGocjf0jtkA3QcUzuEYN9rL6Y+NIBkAha6Qgx2wZX6daqDra14HGb6n+b8H9QeJprmlcta0dvJ5UTrOYeveloLrTWjjLWE4MiPWnQZ3aviXHi9RfazzQjCu1sUb1dLaj6v+y4aBhNiqN1ZQdBPSMQZVYt5iv0PWFJR10CZreU94ntvHii1+nTj0PoiGwWhvS5j8ig1hVXGUbhSB6S0KeN8q7OaRpOXZUCtuOp1UbF53Ma1ZVttKZjDNFolvOyybm4FWtWxt0ld59R9uDrqPwyvCk++w1fM44uBVXLnaqub8WC6ijhmeAwu2vmYRLXxb2ZVlXY54TyYgpE/vtAO3qnmQZojg3gb41f2fJXyir0xhaRvNNL713zUgqe6RT3FB9krMIwE+UPgKvJXhZjmVgH9r+3ZWzZY2V3KBnhPVs0t1GJAGgC9Q+E0DkUsAXQc4AySm98b0nzmIFMUUVhtYAJKVMzJnQHOVoBWmkJFjuBs5nvL4C54S/TNhUC4vDIzNZRZWc=
  user: goveranter
  skip_cleanup: true
  on:
    all_branches: true
    condition: $TRAVIS_BRANCH =~ ^[0-9]+\.[0-9]+\.[0-9]+$
    tags: true